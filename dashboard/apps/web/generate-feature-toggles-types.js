/* eslint-disable @typescript-eslint/no-var-requires */
const fs = require('fs')
const flags = require('./featureToggles.js')
const path = require('path')

// Write typescript definitions for global variables
console.log('Writing types for the feature toggles.')
const definitions = Object.keys(flags)
    .map(name => `declare let ${name}: boolean`)
    .join('\n')

fs.writeFileSync(
    path.join(__dirname, './globals.d.ts'),
    '// This file is automatically generated, do not edit manually!\n'
)
fs.appendFileSync(path.join(__dirname, './globals.d.ts'), definitions)
