---
title: task_run.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `task_run.proto`
_**path** task_run.proto_

_**package** littlehorse_



---

## Messages


### `LHTaskError`
<ProtoMessage key={0} message={{"name":"LHTaskError","longName":"LHTaskError","fullName":"littlehorse.LHTaskError","description":"Message denoting a TaskRun failed for technical reasons.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"type","description":"The technical error code.","label":"","type":"LHErrorType","longType":"LHErrorType","fullType":"littlehorse.LHErrorType","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/common_enums.proto#lherrortype"},{"name":"message","description":"Human readable message for debugging.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `LHTaskException`
<ProtoMessage key={1} message={{"name":"LHTaskException","longName":"LHTaskException","fullName":"littlehorse.LHTaskException","description":"Message denoting a TaskRun's execution signaled that something went wrong in the\nbusiness process, throwing a littlehorse 'EXCEPTION'.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"name","description":"The user-defined Failure name, for example, \"credit-card-declined\"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"message","description":"Human readadble description of the failure.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"content","description":"","label":"","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"}]}} />


### `TaskAttempt`
<ProtoMessage key={2} message={{"name":"TaskAttempt","longName":"TaskAttempt","fullName":"littlehorse.TaskAttempt","description":"A single time that a TaskRun was scheduled for execution on a Task Queue.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"log_output","description":"Optional information provided by the Task Worker SDK for debugging. Usually, if set\nit contains a stacktrace or it contains information logged via `WorkerContext#log()`.","label":"optional","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":true,"oneofdecl":"_log_output","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"},{"name":"schedule_time","description":"The time the TaskAttempt was scheduled on the Task Queue. Not set for a TaskAttempt that is\nin the TASK_PENDING status; for example, when waiting between retries with exponential\nbackoff.","label":"optional","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":true,"oneofdecl":"_schedule_time","defaultValue":""},{"name":"start_time","description":"The time the TaskAttempt was pulled off the queue and sent to a TaskWorker.","label":"optional","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":true,"oneofdecl":"_start_time","defaultValue":""},{"name":"end_time","description":"The time the TaskAttempt was finished (either completed, reported as failed, or\ntimed out)","label":"optional","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":true,"oneofdecl":"_end_time","defaultValue":""},{"name":"task_worker_id","description":"EXPERIMENTAL: the ID of the Task Worker who executed this TaskRun.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"task_worker_version","description":"The version of the Task Worker that executed the TaskAttempt.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_task_worker_version","defaultValue":""},{"name":"status","description":"The status of this TaskAttempt.","label":"","type":"TaskStatus","longType":"TaskStatus","fullType":"littlehorse.TaskStatus","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/common_enums.proto#taskstatus"},{"name":"output","description":"Denotes the Task Function executed properly and returned an output.","label":"","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":true,"oneofdecl":"result","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"},{"name":"error","description":"An unexpected technical error was encountered. May or may not be retriable.","label":"","type":"LHTaskError","longType":"LHTaskError","fullType":"littlehorse.LHTaskError","ismap":false,"isoneof":true,"oneofdecl":"result","defaultValue":"","typeLink":"/protodocs/task_run.proto#lhtaskerror"},{"name":"exception","description":"The Task Function encountered a business problem and threw a technical exception.","label":"","type":"LHTaskException","longType":"LHTaskException","fullType":"littlehorse.LHTaskException","ismap":false,"isoneof":true,"oneofdecl":"result","defaultValue":"","typeLink":"/protodocs/task_run.proto#lhtaskexception"}]}} />


### `TaskNodeReference`
<ProtoMessage key={3} message={{"name":"TaskNodeReference","longName":"TaskNodeReference","fullName":"littlehorse.TaskNodeReference","description":"Reference to a NodeRun of type TASK which caused a TaskRun to be scheduled.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"node_run_id","description":"The ID of the NodeRun which caused this TASK to be scheduled.","label":"","type":"NodeRunId","longType":"NodeRunId","fullType":"littlehorse.NodeRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#noderunid"}]}} />


### `TaskRun`
<ProtoMessage key={4} message={{"name":"TaskRun","longName":"TaskRun","fullName":"littlehorse.TaskRun","description":"A TaskRun resents a single instance of a TaskDef being executed.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"id","description":"The ID of the TaskRun. Note that the TaskRunId contains the WfRunId.","label":"","type":"TaskRunId","longType":"TaskRunId","fullType":"littlehorse.TaskRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#taskrunid"},{"name":"task_def_id","description":"The ID of the TaskDef being executed.","label":"","type":"TaskDefId","longType":"TaskDefId","fullType":"littlehorse.TaskDefId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#taskdefid"},{"name":"attempts","description":"All attempts scheduled for this TaskRun. A TaskAttempt represents an occurrence of\nthe TaskRun being put on a Task Queue to be executed by the Task Workers.","label":"repeated","type":"TaskAttempt","longType":"TaskAttempt","fullType":"littlehorse.TaskAttempt","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/task_run.proto#taskattempt"},{"name":"input_variables","description":"The input variables to pass into this TaskRun. Note that this is a list and not\na map, because ordering matters. Depending on the language implementation, not\nevery LittleHorse Task Worker SDK has the ability to determine the names of the\nvariables from the method signature, so we provide both names and ordering.","label":"repeated","type":"VarNameAndVal","longType":"VarNameAndVal","fullType":"littlehorse.VarNameAndVal","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/task_run.proto#varnameandval"},{"name":"source","description":"The source (in the WfRun) that caused this TaskRun to be created. Currently, this\ncan be either a TASK node, or a User Task Action Task Trigger in a USER_TASK node (such\nas a task used to send reminders).","label":"","type":"TaskRunSource","longType":"TaskRunSource","fullType":"littlehorse.TaskRunSource","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/task_run.proto#taskrunsource"},{"name":"scheduled_at","description":"When the TaskRun was scheduled.","label":"","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"status","description":"The status of the TaskRun.","label":"","type":"TaskStatus","longType":"TaskStatus","fullType":"littlehorse.TaskStatus","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/common_enums.proto#taskstatus"},{"name":"timeout_seconds","description":"The timeout before LH considers a TaskAttempt to be timed out.","label":"","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"total_attempts","description":"The maximum number of attempts that may be scheduled for this TaskRun. NOTE: setting\ntotal_attempts to 1 means that there are no retries.","label":"","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"exponential_backoff","description":"Optional backoff policy .","label":"optional","type":"ExponentialBackoffRetryPolicy","longType":"ExponentialBackoffRetryPolicy","fullType":"littlehorse.ExponentialBackoffRetryPolicy","ismap":false,"isoneof":true,"oneofdecl":"_exponential_backoff","defaultValue":"","typeLink":"/protodocs/common_wfspec.proto#exponentialbackoffretrypolicy"}]}} />


### `TaskRunSource`
<ProtoMessage key={5} message={{"name":"TaskRunSource","longName":"TaskRunSource","fullName":"littlehorse.TaskRunSource","description":"The source of a TaskRun; i.e. why it was scheduled.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"task_node","description":"Reference to a NodeRun of type TASK which scheduled this TaskRun.","label":"","type":"TaskNodeReference","longType":"TaskNodeReference","fullType":"littlehorse.TaskNodeReference","ismap":false,"isoneof":true,"oneofdecl":"task_run_source","defaultValue":"","typeLink":"/protodocs/task_run.proto#tasknodereference"},{"name":"user_task_trigger","description":"Reference to the specific UserTaskRun trigger action which scheduled this TaskRun","label":"","type":"UserTaskTriggerReference","longType":"UserTaskTriggerReference","fullType":"littlehorse.UserTaskTriggerReference","ismap":false,"isoneof":true,"oneofdecl":"task_run_source","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertasktriggerreference"},{"name":"wf_spec_id","description":"The ID of the WfSpec that is being executed. Always set in ScheduledTask.source so\nthat the WorkerContext can know this information.","label":"optional","type":"WfSpecId","longType":"WfSpecId","fullType":"littlehorse.WfSpecId","ismap":false,"isoneof":true,"oneofdecl":"_wf_spec_id","defaultValue":"","typeLink":"/protodocs/object_id.proto#wfspecid"}]}} />


### `VarNameAndVal`
<ProtoMessage key={6} message={{"name":"VarNameAndVal","longName":"VarNameAndVal","fullName":"littlehorse.VarNameAndVal","description":"A key-value pair of variable name and value.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"var_name","description":"The variable name.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"value","description":"The value of the variable for this TaskRun.","label":"","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"}]}} />

---


  