---
title: user_tasks.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `user_tasks.proto`
_**path** user_tasks.proto_

_**package** littlehorse_



---

## Messages


### `AssignUserTaskRunRequest`
<ProtoMessage key={0} message={{"name":"AssignUserTaskRunRequest","longName":"AssignUserTaskRunRequest","fullName":"littlehorse.AssignUserTaskRunRequest","description":"Re-Assigns a UserTaskRun to a specific userId or userGroup.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"user_task_run_id","description":"The UserTaskRun to assign to a new user_id or user_group.","label":"","type":"UserTaskRunId","longType":"UserTaskRunId","fullType":"littlehorse.UserTaskRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#usertaskrunid"},{"name":"override_claim","description":"If override_claim is set to false and the UserTaskRun is already assigned to\na user_id, then the request throws a FAILED_PRECONDITION error. If set to\ntrue, then the old claim is overriden and the UserTaskRun is assigned to\nthe new user.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"user_group","description":"The new user_group to which the UserTaskRun is assigned. If not set, then\nthe user_group of the UserTaskRun is actively unset by this request. At least\none of the user_group and user_id must be set.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_user_group","defaultValue":""},{"name":"user_id","description":"The new user_id to which the UserTaskRun is assigned. If not set, then\nthe user_id of the UserTaskRun is actively unset by this request. At least\none of the user_group and user_id must be set.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_user_id","defaultValue":""}]}} />


### `CancelUserTaskRunRequest`
<ProtoMessage key={1} message={{"name":"CancelUserTaskRunRequest","longName":"CancelUserTaskRunRequest","fullName":"littlehorse.CancelUserTaskRunRequest","description":"Cancels a UserTaskRun.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"user_task_run_id","description":"The id of the UserTaskRun to cancel.","label":"","type":"UserTaskRunId","longType":"UserTaskRunId","fullType":"littlehorse.UserTaskRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#usertaskrunid"}]}} />


### `CompleteUserTaskRunRequest`
<ProtoMessage key={2} message={{"name":"CompleteUserTaskRunRequest","longName":"CompleteUserTaskRunRequest","fullName":"littlehorse.CompleteUserTaskRunRequest","description":"Completes a UserTaskRun with provided values.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"user_task_run_id","description":"The id of UserTaskRun to complete.","label":"","type":"UserTaskRunId","longType":"UserTaskRunId","fullType":"littlehorse.UserTaskRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#usertaskrunid"},{"name":"results","description":"A map from UserTaskField.name to a VariableValue containing the results of the\nuser filling out the form.","label":"repeated","type":"ResultsEntry","longType":"CompleteUserTaskRunRequest.ResultsEntry","fullType":"littlehorse.CompleteUserTaskRunRequest.ResultsEntry","ismap":true,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#completeusertaskrunrequestresultsentry"},{"name":"user_id","description":"The ID of the user who executed the task.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `CompleteUserTaskRunRequest.ResultsEntry`
<ProtoMessage key={3} message={{"name":"ResultsEntry","longName":"CompleteUserTaskRunRequest.ResultsEntry","fullName":"littlehorse.CompleteUserTaskRunRequest.ResultsEntry","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"key","description":"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"value","description":"","label":"","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"}]}} />


### `UserTaskDef`
<ProtoMessage key={4} message={{"name":"UserTaskDef","longName":"UserTaskDef","fullName":"littlehorse.UserTaskDef","description":"UserTaskDef is the metadata blueprint for UserTaskRuns.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"name","description":"The name of the `UserTaskDef`","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"version","description":"The version of the `UserTaskDef`. Only simple versioning is supported.","label":"","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"description","description":"Metadata field that does not impact WfRun execution. Useful for providing\ncontext on the UserTaskRun, for example when displaying it on a general-purpose\ntask manager application.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_description","defaultValue":""},{"name":"fields","description":"These are the fields comprise the User Task. A User Task Manager application, or\nany application used to complete a UserTaskRun, should inspect these fields and\ndisplay form entries for each one.","label":"repeated","type":"UserTaskField","longType":"UserTaskField","fullType":"littlehorse.UserTaskField","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskfield"},{"name":"created_at","description":"The time the UserTaskRun was created.","label":"","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `UserTaskEvent`
<ProtoMessage key={5} message={{"name":"UserTaskEvent","longName":"UserTaskEvent","fullName":"littlehorse.UserTaskEvent","description":"This is an event stored in the audit log of a `UserTaskRun` purely for observability\npurposes.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"time","description":"the time the event occurred.","label":"","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"task_executed","description":"Denotes that a TaskRun was scheduled via a trigger.","label":"","type":"UTETaskExecuted","longType":"UserTaskEvent.UTETaskExecuted","fullType":"littlehorse.UserTaskEvent.UTETaskExecuted","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskeventutetaskexecuted"},{"name":"assigned","description":"Denotes that the UserTaskRun was assigned.","label":"","type":"UTEAssigned","longType":"UserTaskEvent.UTEAssigned","fullType":"littlehorse.UserTaskEvent.UTEAssigned","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskeventuteassigned"},{"name":"cancelled","description":"Denotes that the UserTaskRun was cancelled.\n\nTODO: Add \"save user task\" and \"complete user task\" to the\naudit log","label":"","type":"UTECancelled","longType":"UserTaskEvent.UTECancelled","fullType":"littlehorse.UserTaskEvent.UTECancelled","ismap":false,"isoneof":true,"oneofdecl":"event","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskeventutecancelled"}]}} />


### `UserTaskEvent.UTEAssigned`
<ProtoMessage key={6} message={{"name":"UTEAssigned","longName":"UserTaskEvent.UTEAssigned","fullName":"littlehorse.UserTaskEvent.UTEAssigned","description":"Message denoting that the UserTaskRun was assigned.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"old_user_id","description":"The user_id before the ownership change, if set.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_old_user_id","defaultValue":""},{"name":"old_user_group","description":"The user_group before the ownership change, if set.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_old_user_group","defaultValue":""},{"name":"new_user_id","description":"The user_id after the ownership change, if set.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_new_user_id","defaultValue":""},{"name":"new_user_group","description":"The user_group after the ownership change, if set.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_new_user_group","defaultValue":""}]}} />


### `UserTaskEvent.UTECancelled`
<ProtoMessage key={7} message={{"name":"UTECancelled","longName":"UserTaskEvent.UTECancelled","fullName":"littlehorse.UserTaskEvent.UTECancelled","description":"Empty message used to denote that the `UserTaskRun` was cancelled.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"message","description":"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `UserTaskEvent.UTETaskExecuted`
<ProtoMessage key={8} message={{"name":"UTETaskExecuted","longName":"UserTaskEvent.UTETaskExecuted","fullName":"littlehorse.UserTaskEvent.UTETaskExecuted","description":"Message to denote that a `TaskRun` was scheduled by a trigger for this UserTaskRun.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"task_run","description":"The `TaskRunId` of the scheduled `TaskRun`","label":"","type":"TaskRunId","longType":"TaskRunId","fullType":"littlehorse.TaskRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#taskrunid"}]}} />


### `UserTaskField`
<ProtoMessage key={9} message={{"name":"UserTaskField","longName":"UserTaskField","fullName":"littlehorse.UserTaskField","description":"A UserTaskField is a specific field of data to be entered into a UserTaskRun.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"name","description":"The name of the field. When a UserTaskRun is completed, the NodeOutput is a\nsingle-level JSON_OBJ. Each key is the name of the field. Must be unique.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"type","description":"The type of the output. Must be a primitive type (STR, BOOL, INT, DOUBLE).","label":"","type":"VariableType","longType":"VariableType","fullType":"littlehorse.VariableType","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/common_enums.proto#variabletype"},{"name":"description","description":"Optional description which can be displayed by the User Task UI application.\nDoes not affect WfRun execution.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_description","defaultValue":""},{"name":"display_name","description":"The name to be displayed by the User Task UI application. Does not affect\nWfRun execution.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"required","description":"Whether this field is required for UserTaskRun completion.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `UserTaskRun`
<ProtoMessage key={10} message={{"name":"UserTaskRun","longName":"UserTaskRun","fullName":"littlehorse.UserTaskRun","description":"A UserTaskRun is a running instance of a UserTaskDef. It is created when a\nThreadRun arrives at a Node of type `USER_TASK`.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"id","description":"The ID of the UserTaskRun.","label":"","type":"UserTaskRunId","longType":"UserTaskRunId","fullType":"littlehorse.UserTaskRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#usertaskrunid"},{"name":"user_task_def_id","description":"The ID of the UserTaskDef that this UserTaskRun comes from.","label":"","type":"UserTaskDefId","longType":"UserTaskDefId","fullType":"littlehorse.UserTaskDefId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#usertaskdefid"},{"name":"user_group","description":"The user_group to which this UserTaskRun is assigned. Not Set if not assigned\nto a group. At least one of user_group or user_id will be set for any given\nUserTaskRun.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_user_group","defaultValue":""},{"name":"user_id","description":"The user_id to which this UserTaskRun is assigned. Not Set if not assigned\nto a user. At least one of user_group or user_id will be set for any given\nUserTaskRun. If user_id is set, then the UserTaskRun cannot be in the\nUNASSIGNED status.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_user_id","defaultValue":""},{"name":"results","description":"The results of the UserTaskRun. Empty if the UserTaskRun has not yet been completed.\nEach key in this map is the `name` of a corresponding `UserTaskField` on the\nUserTaskDef.","label":"repeated","type":"ResultsEntry","longType":"UserTaskRun.ResultsEntry","fullType":"littlehorse.UserTaskRun.ResultsEntry","ismap":true,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskrunresultsentry"},{"name":"status","description":"Status of the UserTaskRun. Can be UNASSIGNED, ASSIGNED, DONE, or CANCELLED.","label":"","type":"UserTaskRunStatus","longType":"UserTaskRunStatus","fullType":"littlehorse.UserTaskRunStatus","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskrunstatus"},{"name":"events","description":"A list of events that have happened. Used for auditing information.","label":"repeated","type":"UserTaskEvent","longType":"UserTaskEvent","fullType":"littlehorse.UserTaskEvent","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/user_tasks.proto#usertaskevent"},{"name":"notes","description":"Notes about this UserTaskRun that are **specific to the WfRun**. These notes\nare set by the WfSpec based on variables inside the specific `WfRun` and are\nintended to be displayed on the User Task Manager application. They do not\naffect WfRun execution.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_notes","defaultValue":""},{"name":"scheduled_time","description":"The time that the UserTaskRun was created/scheduled.","label":"","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"node_run_id","description":"The NodeRun with which the UserTaskRun is associated.","label":"","type":"NodeRunId","longType":"NodeRunId","fullType":"littlehorse.NodeRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#noderunid"},{"name":"epoch","description":"Current observed epoch of the UserTaskRun, related to the number of times it has been\nupdated or re-assigned. Used internally to implement automated reassignment and reminder\ntasks.","label":"","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `UserTaskRun.ResultsEntry`
<ProtoMessage key={11} message={{"name":"ResultsEntry","longName":"UserTaskRun.ResultsEntry","fullName":"littlehorse.UserTaskRun.ResultsEntry","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"key","description":"","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"value","description":"","label":"","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"}]}} />


### `UserTaskTriggerReference`
<ProtoMessage key={12} message={{"name":"UserTaskTriggerReference","longName":"UserTaskTriggerReference","fullName":"littlehorse.UserTaskTriggerReference","description":"All TaskRun's have a \"trigger reference\" which refers to the WfRun Element that\ncaused the TaskRun to be scheduled. For example, a TaskRun on a regular TASK_NODE\nhas a TaskNodeReference.\n\nThe UserTaskTriggerReference serves as the \"Trigger Reference\" for a TaskRun that\nwas scheduled by a lifecycle hook on a UserTaskRun (eg. a reminder task).\n\nThe UserTaskTriggerReference is most useful in the WorkerContext of the Task Worker\nSDK, which allows the Task Method to determine where the TaskRun comes from.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"node_run_id","description":"Is the NodeRun that the UserTaskRun belongs to.","label":"","type":"NodeRunId","longType":"NodeRunId","fullType":"littlehorse.NodeRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#noderunid"},{"name":"user_task_event_number","description":"Is the index in the `events` field of the UserTaskRun that the TaskRun corresponds\nto.","label":"","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"user_id","description":"Is the user_id that the UserTaskRun is assigned to. Unset if UserTaskRun is not\nasigned to a specific user_id.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_user_id","defaultValue":""},{"name":"user_group","description":"Is the user_id that the UserTaskRun is assigned to. Unset if UserTaskRun is not\nasigned to a specific user_id.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_user_group","defaultValue":""}]}} />

---
## Enums


### `UserTaskRunStatus`
<ProtoEnum key={0} enumb={{"name":"UserTaskRunStatus","longName":"UserTaskRunStatus","fullName":"littlehorse.UserTaskRunStatus","description":"The status that a UserTaskRun can be in.","values":[{"name":"UNASSIGNED","number":"0","description":"Not assigned to a specific user yet."},{"name":"ASSIGNED","number":"1","description":"Assigned to a specific user, but not completed or cancelled yet."},{"name":"DONE","number":"3","description":"Done."},{"name":"CANCELLED","number":"4","description":"Cancelled."}]}} />

---


  