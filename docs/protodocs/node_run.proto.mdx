---
title: node_run.proto
hide_title: true
---

import { ProtoMessage, ProtoServiceMethod, ProtoEnum } from '@theme/ProtoFile';

# `node_run.proto`
_**path** node_run.proto_

_**package** littlehorse_



---

## Messages


### `EntrypointRun`
<ProtoMessage key={0} message={{"name":"EntrypointRun","longName":"EntrypointRun","fullName":"littlehorse.EntrypointRun","description":"The sub-node structure for an ENTRYPOINT NodeRun. Currently Empty.","hasExtensions":false,"hasFields":false,"hasOneofs":false,"extensions":[],"fields":[]}} />


### `ExitRun`
<ProtoMessage key={1} message={{"name":"ExitRun","longName":"ExitRun","fullName":"littlehorse.ExitRun","description":"The sub-node structure for an EXIT NodeRun. Currently Empty, will contain info\nabout ThreadRun Outputs once those are added in the future.","hasExtensions":false,"hasFields":false,"hasOneofs":false,"extensions":[],"fields":[]}} />


### `ExternalEventRun`
<ProtoMessage key={2} message={{"name":"ExternalEventRun","longName":"ExternalEventRun","fullName":"littlehorse.ExternalEventRun","description":"The sub-node structure for an EXTERNAL_EVENT NodeRun.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"external_event_def_id","description":"The ExternalEventDefId that we are waiting for.","label":"","type":"ExternalEventDefId","longType":"ExternalEventDefId","fullType":"littlehorse.ExternalEventDefId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#externaleventdefid"},{"name":"event_time","description":"The time that the ExternalEvent arrived. Unset if still waiting.","label":"optional","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":true,"oneofdecl":"_event_time","defaultValue":""},{"name":"external_event_id","description":"The ExternalEventId of the ExternalEvent. Unset if still waiting.","label":"optional","type":"ExternalEventId","longType":"ExternalEventId","fullType":"littlehorse.ExternalEventId","ismap":false,"isoneof":true,"oneofdecl":"_external_event_id","defaultValue":"","typeLink":"/protodocs/object_id.proto#externaleventid"},{"name":"timed_out","description":"Whether we had a timeout while waiting for the ExternalEvent to come.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `Failure`
<ProtoMessage key={3} message={{"name":"Failure","longName":"Failure","fullName":"littlehorse.Failure","description":"Denotes a failure that happened during execution of a NodeRun or the outgoing\nedges.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"failure_name","description":"The name of the failure. LittleHorse has certain built-in failures, all named in\nUPPER_UNDERSCORE_CASE. Such failures correspond with the `LHStatus.ERROR`.\n\nAny Failure named in `kebab-case` is a user-defined business `EXCEPTION`, treated\nas an `LHStatus.EXCEPTION`.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"message","description":"The human-readable message associated with this Failure.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"content","description":"A user-defined Failure can have a value; for example, in Java an Exception is an\nObject with arbitrary properties and behaviors.\n\nFuture versions of LH will allow FailureHandler threads to accept that value as\nan input variable.","label":"optional","type":"VariableValue","longType":"VariableValue","fullType":"littlehorse.VariableValue","ismap":false,"isoneof":true,"oneofdecl":"_content","defaultValue":"","typeLink":"/protodocs/variable.proto#variablevalue"},{"name":"was_properly_handled","description":"A boolean denoting whether a Failure Handler ThreadRun properly handled the Failure.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"failure_handler_threadrun_id","description":"If there is a defined failure handler for the NodeRun, then this field is set to the\nid of the failure handler thread run.","label":"optional","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":true,"oneofdecl":"_failure_handler_threadrun_id","defaultValue":""}]}} />


### `NodeRun`
<ProtoMessage key={4} message={{"name":"NodeRun","longName":"NodeRun","fullName":"littlehorse.NodeRun","description":"A NodeRun is a running instance of a Node in a ThreadRun. Note that a NodeRun\nis a Getable object, meaning it can be retried from the LittleHorse grpc API.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"id","description":"The ID of the NodeRun. Note that the NodeRunId contains the WfRunId, the\nThreadRun's number, and the position of the NodeRun within that ThreadRun.","label":"","type":"NodeRunId","longType":"NodeRunId","fullType":"littlehorse.NodeRunId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#noderunid"},{"name":"wf_spec_id","description":"The ID of the WfSpec that this NodeRun is from. This is not _always_ the same\nas the ThreadRun it belongs to because of the upcoming WfSpec Version Migration\nfeature.","label":"","type":"WfSpecId","longType":"WfSpecId","fullType":"littlehorse.WfSpecId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#wfspecid"},{"name":"failure_handler_ids","description":"A list of all ThreadRun's that ran to handle a failure thrown by this NodeRun.","label":"repeated","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"status","description":"The status of this NodeRun.","label":"","type":"LHStatus","longType":"LHStatus","fullType":"littlehorse.LHStatus","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/common_enums.proto#lhstatus"},{"name":"arrival_time","description":"The time the ThreadRun arrived at this NodeRun.","label":"","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"end_time","description":"The time the NodeRun was terminated (failed or completed).","label":"optional","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":true,"oneofdecl":"_end_time","defaultValue":""},{"name":"thread_spec_name","description":"The name of the ThreadSpec to which this NodeRun belongs.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"node_name","description":"The name of the Node in the ThreadSpec that this NodeRun belongs to.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"error_message","description":"A human-readable error message intended to help developers diagnose WfSpec\nproblems.","label":"optional","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":true,"oneofdecl":"_error_message","defaultValue":""},{"name":"failures","description":"A list of Failures thrown by this NodeRun.","label":"repeated","type":"Failure","longType":"Failure","fullType":"littlehorse.Failure","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/node_run.proto#failure"},{"name":"task","description":"Denotes a TASK node, which runs a TaskRun.","label":"","type":"TaskNodeRun","longType":"TaskNodeRun","fullType":"littlehorse.TaskNodeRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#tasknoderun"},{"name":"external_event","description":"An EXTERNAL_EVENT node blocks until an ExternalEvent arrives.","label":"","type":"ExternalEventRun","longType":"ExternalEventRun","fullType":"littlehorse.ExternalEventRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#externaleventrun"},{"name":"entrypoint","description":"An ENTRYPOINT node is the first thing that runs in a ThreadRun.","label":"","type":"EntrypointRun","longType":"EntrypointRun","fullType":"littlehorse.EntrypointRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#entrypointrun"},{"name":"exit","description":"An EXIT node completes a ThreadRun.","label":"","type":"ExitRun","longType":"ExitRun","fullType":"littlehorse.ExitRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#exitrun"},{"name":"start_thread","description":"A START_THREAD node starts a child ThreadRun.","label":"","type":"StartThreadRun","longType":"StartThreadRun","fullType":"littlehorse.StartThreadRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#startthreadrun"},{"name":"wait_threads","description":"A WAIT_THREADS node waits for one or more child ThreadRun's to complete.","label":"","type":"WaitForThreadsRun","longType":"WaitForThreadsRun","fullType":"littlehorse.WaitForThreadsRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#waitforthreadsrun"},{"name":"sleep","description":"A SLEEP node makes the ThreadRun block for a certain amount of time.","label":"","type":"SleepNodeRun","longType":"SleepNodeRun","fullType":"littlehorse.SleepNodeRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#sleepnoderun"},{"name":"user_task","description":"A USER_TASK node waits until a human executes some work and reports the result.","label":"","type":"UserTaskNodeRun","longType":"UserTaskNodeRun","fullType":"littlehorse.UserTaskNodeRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#usertasknoderun"},{"name":"start_multiple_threads","description":"A START_MULTIPLE_THREADS node iterates over a JSON_ARR variable and spawns a\nchild ThreadRun for each element in the list.","label":"","type":"StartMultipleThreadsRun","longType":"StartMultipleThreadsRun","fullType":"littlehorse.StartMultipleThreadsRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#startmultiplethreadsrun"},{"name":"throw_event","description":"","label":"","type":"ThrowEventNodeRun","longType":"ThrowEventNodeRun","fullType":"littlehorse.ThrowEventNodeRun","ismap":false,"isoneof":true,"oneofdecl":"node_type","defaultValue":"","typeLink":"/protodocs/node_run.proto#throweventnoderun"}]}} />


### `SleepNodeRun`
<ProtoMessage key={5} message={{"name":"SleepNodeRun","longName":"SleepNodeRun","fullName":"littlehorse.SleepNodeRun","description":"The sub-node structure for a SLEEP NodeRun.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"maturation_time","description":"The time at which the NodeRun is *SCHEDULED TO* wake up. In rare cases, if\nthe LH Server is back-pressuring clients due to extreme load, the timer\nevent which marks the sleep node as \"matured\" may come in slightly late.","label":"","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"matured","description":"Whether the SleepNodeRun has been matured.","label":"","type":"bool","longType":"bool","fullType":"bool","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `StartMultipleThreadsRun`
<ProtoMessage key={6} message={{"name":"StartMultipleThreadsRun","longName":"StartMultipleThreadsRun","fullName":"littlehorse.StartMultipleThreadsRun","description":"The sub-node structure for a START_MULTIPLE_THREADS NodeRun.\n\nNote: the output of this NodeRun, which can be used to mutate Variables,\nis a JSON_ARR variable containing the ID's of all the child threadRuns.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"thread_spec_name","description":"The thread_spec_name of the child thread_runs.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"child_thread_ids","description":"The list of all created child ThreadRun's","label":"repeated","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `StartThreadRun`
<ProtoMessage key={7} message={{"name":"StartThreadRun","longName":"StartThreadRun","fullName":"littlehorse.StartThreadRun","description":"The sub-node structure for a START_THREAD NodeRun.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"child_thread_id","description":"Contains the thread_run_number of the created Child ThreadRun, if it has\nbeen created already.","label":"optional","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":true,"oneofdecl":"_child_thread_id","defaultValue":""},{"name":"thread_spec_name","description":"The thread_spec_name of the child thread_run.","label":"","type":"string","longType":"string","fullType":"string","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""}]}} />


### `TaskNodeRun`
<ProtoMessage key={8} message={{"name":"TaskNodeRun","longName":"TaskNodeRun","fullName":"littlehorse.TaskNodeRun","description":"The sub-node structure for a TASK NodeRun.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"task_run_id","description":"The ID of the TaskRun. Note that if the ThreadRun was halted when it arrived\nat this TASK Node, then the task_run_id will be unset.","label":"optional","type":"TaskRunId","longType":"TaskRunId","fullType":"littlehorse.TaskRunId","ismap":false,"isoneof":true,"oneofdecl":"_task_run_id","defaultValue":"","typeLink":"/protodocs/object_id.proto#taskrunid"}]}} />


### `ThrowEventNodeRun`
<ProtoMessage key={9} message={{"name":"ThrowEventNodeRun","longName":"ThrowEventNodeRun","fullName":"littlehorse.ThrowEventNodeRun","description":"","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"workflow_event_id","description":"","label":"","type":"WorkflowEventId","longType":"WorkflowEventId","fullType":"littlehorse.WorkflowEventId","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/object_id.proto#workfloweventid"}]}} />


### `UserTaskNodeRun`
<ProtoMessage key={10} message={{"name":"UserTaskNodeRun","longName":"UserTaskNodeRun","fullName":"littlehorse.UserTaskNodeRun","description":"The sub-node structure for a USER_TASK NodeRun.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"user_task_run_id","description":"The ID of the UserTaskRun. Note that if the ThreadRun was halted when it arrived\nat this USER_TASK node, then the user_task_run_id will be unset.","label":"optional","type":"UserTaskRunId","longType":"UserTaskRunId","fullType":"littlehorse.UserTaskRunId","ismap":false,"isoneof":true,"oneofdecl":"_user_task_run_id","defaultValue":"","typeLink":"/protodocs/object_id.proto#usertaskrunid"}]}} />


### `WaitForThreadsRun`
<ProtoMessage key={11} message={{"name":"WaitForThreadsRun","longName":"WaitForThreadsRun","fullName":"littlehorse.WaitForThreadsRun","description":"The sub-node structure for a WAIT_FOR_THREADS NodeRun.","hasExtensions":false,"hasFields":true,"hasOneofs":false,"extensions":[],"fields":[{"name":"threads","description":"The threads that are being waited for.","label":"repeated","type":"WaitForThread","longType":"WaitForThreadsRun.WaitForThread","fullType":"littlehorse.WaitForThreadsRun.WaitForThread","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/node_run.proto#waitforthreadsrunwaitforthread"}]}} />


### `WaitForThreadsRun.WaitForThread`
<ProtoMessage key={12} message={{"name":"WaitForThread","longName":"WaitForThreadsRun.WaitForThread","fullName":"littlehorse.WaitForThreadsRun.WaitForThread","description":"A 'WaitForThread' structure defines a thread that is being waited for.","hasExtensions":false,"hasFields":true,"hasOneofs":true,"extensions":[],"fields":[{"name":"thread_end_time","description":"The time at which the ThreadRun ended (successfully or not). Not set if the ThreadRun\nis still RUNNING, HALTED, or HALTING.","label":"optional","type":"Timestamp","longType":"google.protobuf.Timestamp","fullType":"google.protobuf.Timestamp","ismap":false,"isoneof":true,"oneofdecl":"_thread_end_time","defaultValue":""},{"name":"thread_status","description":"The current status of the ThreadRun being waited for.","label":"","type":"LHStatus","longType":"LHStatus","fullType":"littlehorse.LHStatus","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/common_enums.proto#lhstatus"},{"name":"thread_run_number","description":"The number of the ThreadRun being waited for.","label":"","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":""},{"name":"waiting_status","description":"The \"waiting status\" of this specific thread: whether it's still running,\nalready done, handling a failure, or completely failed.","label":"","type":"WaitingThreadStatus","longType":"WaitForThreadsRun.WaitingThreadStatus","fullType":"littlehorse.WaitForThreadsRun.WaitingThreadStatus","ismap":false,"isoneof":false,"oneofdecl":"","defaultValue":"","typeLink":"/protodocs/node_run.proto#waitforthreadsrunwaitingthreadstatus"},{"name":"failure_handler_thread_run_id","description":"If there is a failure on the ThreadRun, and we have a failure handler defined\nfor it, then we will start a failure handler for this threadrun. This field\nis the id of that threadRun.","label":"optional","type":"int32","longType":"int32","fullType":"int32","ismap":false,"isoneof":true,"oneofdecl":"_failure_handler_thread_run_id","defaultValue":""}]}} />

---
## Enums


### `WaitForThreadsRun.WaitingThreadStatus`
<ProtoEnum key={0} enumb={{"name":"WaitingThreadStatus","longName":"WaitForThreadsRun.WaitingThreadStatus","fullName":"littlehorse.WaitForThreadsRun.WaitingThreadStatus","description":"The status of a single ThreadRun that we are waiting for.","values":[{"name":"THREAD_IN_PROGRESS","number":"0","description":"The ThreadRun is in progress (i.e. not COMPLETED nor EXCEPTION nor ERROR)"},{"name":"THREAD_HANDLING_FAILURE","number":"1","description":"The ThreadRun failed with some failure, and the FailureHandler is running\nfor that Failure."},{"name":"THREAD_COMPLETED_OR_FAILURE_HANDLED","number":"2","description":"We can mark this ThreadRun as \"already waited for\", meaning that either:\n1. It completed successfully, OR\n2. It failed, and the Failure Handler successfully completed"},{"name":"THREAD_UNSUCCESSFUL","number":"3","description":"The ThreadRun did not complete successfully, and there wasn't a successful\nrun of a Failure Handler for the Failure that was thrown."}]}} />

---


  